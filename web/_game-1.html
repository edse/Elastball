<html>
  <head>
    <title>Sectorball</title>
    <script src="/res/js/Point2D.js"></script>
    <script src="/res/js/Intersections.js"></script>
    <script src="/res/js/Ball.js"></script>
    <script src="/res/js/Field.js"></script>
    <script src="/res/js/Game.js"></script>
    <script src="/res/js/Keeper.js"></script>
    <script src="/res/js/Mouse.js"></script>
    <script src="/res/js/Player.js"></script>
    <script src="/res/js/Team.js"></script>
    <script src="/res/js/jquery.min.js"></script>
    <script>
      var game;
      window.addEventListener('load', startGame, true);
      function startGame(){
        game = new Game(document.getElementById('canvasOne'));
      }
      /*
      function draw(){
        game.draw();
      }
      function mousemove(event) {
        game.mouse.x = event.pageX;
        game.mouse.y = event.pageY + Math.abs(game.get_y());
        //console.log('> '+game.get_y()+' : '+game.mouse.x+', '+game.mouse.y);
      }
      function mousedown(event) {
        game.mouse.down_x =  (event.pageX);
        game.mouse.down_y = (event.pageY) + Math.abs(game.get_y());
        game.mouse.down = true;
        game.mouse.up = false;
        game.mouse.up_x = 0;
        game.mouse.up_y = 0;
      }
      function mouseup(event){
        game.mouse.up_x = (event.pageX);
        game.mouse.up_y = (event.pageY) + Math.abs(game.get_y());
        game.mouse.up = true;
        game.mouse.down = false;
        game.mouse.down_x = 0;
        game.mouse.down_y = 0;
        if(game.selected_ball != null){
          if(game.selected_ball.id != "move" && game.selected_ball.id != "rotate"){
            var vx = (game.selected_ball.x - game.mouse.up_x) * 0.1;
            var vy = (game.selected_ball.y - game.mouse.up_y) * 0.1;
            game.selected_ball.startPoint = new Point2D(game.selected_ball.x, game.selected_ball.y);
            game.selected_ball.velocityx = (game.selected_ball.x - game.mouse.up_x) * 0.1;
            game.selected_ball.velocityy = (game.selected_ball.y - game.mouse.up_y) * 0.1;
            if(game.selected_ball.velocityx > game.maxSpeed)
              game.selected_ball.velocityx = game.maxSpeed;
            if(game.selected_ball.velocityy > game.maxSpeed)
              game.selected_ball.velocityy = game.maxSpeed;
            //$('#msg').val("gamemove<->"+$('#game_id').val()+"<->"+selected_ball.id+"<->"+selected_ball.velocityx+"<->"+selected_ball.velocityy);
            //send();
            game.running = true;
            //$('#running').val("true");
            game.currentPlayer = game.selected_ball.id;
            //$('#current_player').val(currentPlayer);
            //$('#last_collision').val('');
          }
          else if(game.selected_ball.id == "rotate"){
            //alert(keepers[0].angle)
            //$('#msg').val("gamemove<->"+$('#game_id').val()+"<->"+"k"+selected_ball.k+"<->"+keepers[selected_ball.k].angle);
            //send();
          }
          else if(game.selected_ball.id == "move"){
            //alert(keepers[0].angle)
            //$('#msg').val("gamemove<->"+$('#game_id').val()+"<->"+"k"+selected_ball.k+"<->"+keepers[selected_ball.k].x+"<->"+keepers[selected_ball.k].y);
            //send();
          }
        }
        game.selected_ball = null;
      }
      */
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=no"/>
  </head>
  <body>
    <!-- <canvas id="canvasOne" width="1050" height="1300" style="background-color: black; position: absolute; top: 0px; left:0px;"></canvas> -->
    <canvas id="canvasOne" width="1050" height="600" style="background-color: black; position: absolute; top: 0px; left:0px;"></canvas>
    <div style="width: 210px; position: fixed; left: 1060px; top:8px; height: 450px; overflow-x: hidden; overflow-y: auto; display: none;">
      <fieldset>
        <label>p1.x: <input type="text" id="p1x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>p1.y: <input type="text" id="p1y" value="" /></label>
      </fieldset>
      <fieldset>
        <label>b1.x: <input type="text" id="b1x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>b1.y: <input type="text" id="b1y" value="" /></label>
      </fieldset>
      <fieldset>
        <label>b2.x: <input type="text" id="b2x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>b2.y: <input type="text" id="b2y" value="" /></label>
      </fieldset>
      
      <fieldset>
        <label>c1.x: <input type="text" id="c1x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>c1.y: <input type="text" id="c1y" value="" /></label>
      </fieldset>
      <fieldset>
        <label>c2.x: <input type="text" id="c2x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>c2.y: <input type="text" id="c2y" value="" /></label>
      </fieldset>
      <fieldset>
        <label>d1.x: <input type="text" id="d1x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>d1.y: <input type="text" id="d1y" value="" /></label>
      </fieldset>
      <fieldset>
        <label>d2.x: <input type="text" id="d2x" value="" /></label>
      </fieldset>
      <fieldset>
        <label>d2.y: <input type="text" id="d2y" value="" /></label>
      </fieldset>
      <fieldset>
        <label>ball mass: <input type="text" id="mass" value="" /></label>
      </fieldset>
      <fieldset>
        <label>test: <input type="text" id="test" value="" /></label>
      </fieldset>
      <fieldset>
        <label>Cursor: <input type="text" id="mouse" value="" /></label>
      </fieldset>
      <fieldset>
        <label>Running? <input type="text" id="running" value="" /></label>
      </fieldset>
      <fieldset>
        <label>Turn: <input type="text" id="turn" value="" /></label>
      </fieldset>
      <fieldset>
        <label>Current player: <input type="text" id="current_player" value="" /></label>
      </fieldset>
      <fieldset>
        <label>Current player first collision: <input type="text" id="first_collision" value="" /></label>
      </fieldset>
      <fieldset>
        <label>Ball last collision: <input type="text" id="last_collision" value="" /></label>
      </fieldset>
      
      <div id="log"></div>
      <input id="msg" type="textbox" onkeypress="onkey (event);" />
      <button onclick="send ();">Send</button>
      <button onclick="quit ();">Quit</button>

    </div>

    <div style="display: none" />
    <img src="/res/img/model.png" id="model" alt="test" />
    <img src="/res/img/SPO/1/02.png" id="a1" alt="test" />
    <img src="/res/img/SPO/1/03.png" id="a2" alt="test" />
    <img src="/res/img/SPO/1/04.png" id="a3" alt="test" />
    <img src="/res/img/SPO/1/05.png" id="a4" alt="test" />
    <img src="/res/img/SPO/1/06.png" id="a5" alt="test" />
    <img src="/res/img/SPO/1/07.png" id="a6" alt="test" />
    <img src="/res/img/SPO/1/08.png" id="a7" alt="test" />
    <img src="/res/img/SPO/1/09.png" id="a8" alt="test" />
    <img src="/res/img/SPO/1/10.png" id="a9" alt="test" />
    <img src="/res/img/SPO/1/11.png" id="a10" alt="test" />
    <img src="/res/img/SPO/2/02.png" id="b1" alt="test" />
    <img src="/res/img/SPO/2/03.png" id="b2" alt="test" />
    <img src="/res/img/SPO/2/04.png" id="b3" alt="test" />
    <img src="/res/img/SPO/2/05.png" id="b4" alt="test" />
    <img src="/res/img/SPO/2/06.png" id="b5" alt="test" />
    <img src="/res/img/SPO/2/07.png" id="b6" alt="test" />
    <img src="/res/img/SPO/2/08.png" id="b7" alt="test" />
    <img src="/res/img/SPO/2/09.png" id="b8" alt="test" />
    <img src="/res/img/SPO/2/10.png" id="b9" alt="test" />
    <img src="/res/img/SPO/2/11.png" id="b10" alt="test" />
    </div>

    
  </body>
</html>