function h(a,f){if(0<arguments.length)this.x=a,this.y=f}h.prototype.toString=function(){return this.x+","+this.y};intersectCircleLine=function(a,f,b,d){var g,e=(d.x-b.x)*(d.x-b.x)+(d.y-b.y)*(d.y-b.y),i=2*((d.x-b.x)*(b.x-a.x)+(d.y-b.y)*(b.y-a.y)),a=i*i-4*e*(a.x*a.x+a.y*a.y+b.x*b.x+b.y*b.y-2*(a.x*b.x+a.y*b.y)-f*f);if(0>a)return!1;if(0==a)return!1;f=Math.sqrt(a);a=(-i+f)/(2*e);e=(-i-f)/(2*e);if((0>a||1<a)&&(0>e||1<e))return!1;0<=a&&1>=a&&(g=new h(b.x+(d.x-b.x)*a,b.y+(d.y-b.y)*a));0<=e&&1>=e&&(g=new h(b.x+(d.x-b.x)*e,b.y+(d.y-b.y)*e));return g};
intersectLineLine=function(a,f,b,d){var g=(d.x-b.x)*(a.y-b.y)-(d.y-b.y)*(a.x-b.x),e=(f.x-a.x)*(a.y-b.y)-(f.y-a.y)*(a.x-b.x),b=(d.y-b.y)*(f.x-a.x)-(d.x-b.x)*(f.y-a.y);if(0!=b)if(g/=b,e/=b,0<=g&&1>=g&&0<=e&&1>=e)a=new h(a.x+g*(f.x-a.x),a.y+g*(f.y-a.y));else return!1;else return!1;return a};